(function(e){"use strict";function s(e,t,n){function s(s,o){a();if(!e.data("hasActiveHover")){if(!s){i.popOpenImminent=true;r=setTimeout(function(){r=null;u(e)},t.intentPollInterval)}else{if(o){e.data("forcedOpen",true)}n.showTip(e)}}}function o(s){a();if(e.data("hasActiveHover")){i.popOpenImminent=false;e.data("forcedOpen",false);if(!s){r=setTimeout(function(){r=null;n.hideTip(e)},t.closeDelay)}else{n.hideTip(e)}}}function u(){var r=Math.abs(i.previousX-i.currentX),o=Math.abs(i.previousY-i.currentY),u=r+o;if(u<t.intentSensitivity){n.showTip(e)}else{i.previousX=i.currentX;i.previousY=i.currentY;s()}}function a(){r=clearTimeout(r)}var r=null;return{show:s,hide:o,cancel:a}}function o(s){function u(e){e.data("hasActiveHover",true);o.queue(function(t){a(e);t()})}function a(n){if(!n.data("hasActiveHover")){return}if(i.isPopOpen){if(!i.isClosing){c(i.activeHover)}o.delay(100).queue(function(e){a(n);e()});return}n.trigger("powerTipPreRender");var r=n.data("powertip"),u=n.data("powertiptarget"),f=n.data("powertipjq"),l=u?e("#"+u):[];if(r){o.html(r)}else if(f&&f.length>0){o.empty();f.clone(true,true).appendTo(o)}else if(l&&l.length>0){o.html(e("#"+u).html())}else{return}n.trigger("powerTipRender");t.on("closePowerTip",function(){n.data("displayController").hide(true)});i.activeHover=n;i.isPopOpen=true;o.data("followMouse",s.followMouse);o.data("mouseOnToPopup",s.mouseOnToPopup);if(!s.followMouse){d(n);i.isFixedPopOpen=true}else{p()}o.fadeIn(s.fadeInTime,function(){if(!i.desyncTimeout){i.desyncTimeout=setInterval(h,500)}n.trigger("powerTipOpen")})}function c(e){i.isClosing=true;e.data("hasActiveHover",false);e.data("forcedOpen",false);i.activeHover=null;i.isPopOpen=false;i.desyncTimeout=clearInterval(i.desyncTimeout);t.off("closePowerTip");o.fadeOut(s.fadeOutTime,function(){i.isClosing=false;i.isFixedPopOpen=false;o.removeClass();m(i.currentX+s.offset,i.currentY+s.offset);e.trigger("powerTipClose")})}function h(){if(i.isPopOpen&&!i.isClosing){var e=false;if(i.activeHover.data("hasActiveHover")===false){e=true}else{if(!f(i.activeHover)&&!i.activeHover.is(":focus")&&!i.activeHover.data("forcedOpen")){if(o.data("mouseOnToPopup")){if(!f(o)){e=true}}else{e=true}}}if(e){c(i.activeHover)}}}function p(){if(i.isPopOpen&&!i.isFixedPopOpen||i.popOpenImminent&&!i.isFixedPopOpen&&o.data("hasMouseMove")){var e=n.scrollTop(),t=n.width(),r=n.height(),u=o.outerWidth(),a=o.outerHeight(),f=0,l=0;if(u+i.currentX+s.offset<t){f=i.currentX+s.offset}else{f=t-u}if(a+i.currentY+s.offset<e+r){l=i.currentY+s.offset}else{l=e+r-a}m(f,l)}}function d(t){var n=o.outerWidth(),r=o.outerHeight(),i,u,a,f;if(s.smartPlacement){i=e.fn.powerTip.smartPlacementLists[s.placement];e.each(i,function(e,i){u=v(t,i,n,r);a=i;f=l(u,n,r);if(f.length===0){return false}})}else{u=v(t,s.placement,n,r);a=s.placement}o.addClass(a);m(u.x,u.y)}function v(e,t,n,r){var i=e.offset(),o=e.outerWidth(),u=e.outerHeight(),a=0,f=0;switch(t){case"n":a=i.left+o/2-n/2;f=i.top-r-s.offset;break;case"e":a=i.left+o+s.offset;f=i.top+u/2-r/2;break;case"s":a=i.left+o/2-n/2;f=i.top+u+s.offset;break;case"w":a=i.left-n-s.offset;f=i.top+u/2-r/2;break;case"nw":a=i.left-n+20;f=i.top-r-s.offset;break;case"ne":a=i.left+o-20;f=i.top-r-s.offset;break;case"sw":a=i.left-n+20;f=i.top+u+s.offset;break;case"se":a=i.left+o-20;f=i.top+u+s.offset;break}return{x:Math.round(a),y:Math.round(f)}}function m(e,t){o.css("left",e+"px");o.css("top",t+"px")}var o=e("#"+s.popupId);if(o.length===0){o=e("<div></div>",{id:s.popupId});if(r.length===0){r=e("body")}r.append(o)}if(s.followMouse){if(!o.data("hasMouseMove")){t.on({mousemove:p,scroll:p})}o.data("hasMouseMove",true)}if(s.followMouse||s.mouseOnToPopup){o.on({mouseenter:function(){if(o.data("followMouse")||o.data("mouseOnToPopup")){if(i.activeHover){i.activeHover.data("displayController").cancel()}}},mouseleave:function(){if(o.data("mouseOnToPopup")){if(i.activeHover){i.activeHover.data("displayController").hide()}}}})}return{showTip:u,hideTip:c}}function u(){var n=0,r=0;if(!i.mouseTrackingActive){i.mouseTrackingActive=true;e(function(){n=t.scrollLeft();r=t.scrollTop()});t.on({mousemove:a,scroll:function(){var e=t.scrollLeft(),s=t.scrollTop();if(e!==n){i.currentX+=e-n;n=e}if(s!==r){i.currentY+=s-r;r=s}}})}}function a(e){i.currentX=e.pageX;i.currentY=e.pageY}function f(e){var t=e.offset();return i.currentX>=t.left&&i.currentX<=t.left+e.outerWidth()&&i.currentY>=t.top&&i.currentY<=t.top+e.outerHeight()}function l(e,t,r){var i=n.scrollLeft(),s=n.scrollTop(),o=n.width(),u=n.height(),a=[];if(e.y<s){a.push("top")}if(e.y+r>s+u){a.push("bottom")}if(e.x<i){a.push("left")}if(e.x+t>i+o){a.push("right")}return a}var t=e(document),n=e(window),r=e("body");var i={isPopOpen:false,isFixedPopOpen:false,isClosing:false,popOpenImminent:false,activeHover:null,currentX:0,currentY:0,previousX:0,previousY:0,desyncTimeout:null,mouseTrackingActive:false};e.fn.powerTip=function(t){if(!this.length){return this}var n=e.extend({},e.fn.powerTip.defaults,t),r=new o(n);u();this.each(function(){var t=e(this),i=t.data("powertip"),o=t.data("powertipjq"),u=t.data("powertiptarget"),a=t.attr("title");if(!i&&!u&&!o&&a){t.data("powertip",a);t.removeAttr("title")}t.data("displayController",new s(t,n,r))});return this.on({mouseenter:function(t){a(t);i.previousX=t.pageX;i.previousY=t.pageY;e(this).data("displayController").show()},mouseleave:function(){e(this).data("displayController").hide()},focus:function(){var t=e(this);if(!f(t)){t.data("displayController").show(true)}},blur:function(){e(this).data("displayController").hide(true)}})};e.fn.powerTip.defaults={fadeInTime:200,fadeOutTime:100,followMouse:false,popupId:"powerTip",intentSensitivity:7,intentPollInterval:100,closeDelay:100,placement:"n",smartPlacement:false,offset:10,mouseOnToPopup:false};e.fn.powerTip.smartPlacementLists={n:["n","ne","nw","s"],e:["e","ne","se","w","nw","sw","n","s","e"],s:["s","se","sw","n"],w:["w","nw","sw","e","ne","se","n","s","w"],nw:["nw","w","sw","n","s","se","nw"],ne:["ne","e","se","n","s","sw","ne"],sw:["sw","w","nw","s","n","ne","sw"],se:["se","e","ne","s","n","nw","se"]};e.powerTip={showTip:function(t){e.powerTip.closeTip();t=t.first();if(!f(t)){t.data("displayController").show(true,true)}},closeTip:function(){t.triggerHandler("closePowerTip")}}})(jQuery)